{if $title|default:'' ne ""}<h1>{$title}</h1>{/if}
{if $subtitle|default:'' ne ""}<h2>{$subtitle}</h2>{/if}

{if $msg|default:'' ne ""}{msg type="ok" text=$msg}{/if}
{if $infomsg|default:'' ne ""}{msg type="info" text=$infomsg}{/if}
{if $errmsg|default:'' ne ""}{msg type="err" text=$errmsg}{/if}

<h2>Verfügbare Designs</h2>

<table class="tbl" style="width:100%">
	<thead>
		<tr>
			<th>Name</th>
			<th>Beschreibung</th>
			<th>Geändert</th>
			<th>Version</th>
			<th>Autor</th>
			<th>E-Mail</th>
			<th>Users</th>
			<th>Offizielles Design</th>
			<th>Aktionen</th>
		</tr>
	</thead>
	<tbody>
	{foreach item=d key=k from=$designs}
		<tr>
			<td>{$d.name}</td>
			<td>{$d.description}</td>
			<td>{$d.changed}</td>
			<td>{$d.version}</td>
			<td>{$d.author}</td>
			<td>{$d.email}</td>
			<td>{$d.users}</td>
			<td>{if $d.custom}nein{else}ja{/if}</td>
			<td style="width:130px">
				<a href="?page={$page}&sub={$sub}&download={$k}">Download</a>
				{if $d.custom}
				<a href="?page={$page}&sub={$sub}&remove={$k}" onclick="return confirm('Soll das Design \'{$d.name}\' wirklich entfernt werden?')">Entfernen</a>
				{/if}
			</td>
		</tr>
	{/foreach}
	</tbody>
</table>

<form action="?page={$page}&sub={$sub}" method="post" enctype="multipart/form-data">
<fieldset>
	<legend>Design hochladen</legend>
	Design-Datei (ZIP): <input type="file" name="design"/> 
	<input type="submit" name="submit" value="Design hochladen">
</fieldset>
</form>

<h2>Dokumentation</h2>
<h3>Aufbau eines Designs</h3>
<p>Verzeichnisstruktur:</p>
<pre class="code">
Ordner/                 Ordnername ist gleich dem Namen des Designs
 |- images/             Bilder
 |- design.xml          Informationen zum Design im XML Format
 |- scripts.js          JavaScript Code
 |- style.css           Stylesheet
 '- template.html       Haupt-Template
</pre>
<p>Im Template kann die Syntax der <a href="http://www.smarty.net" target="_blank">Smarty-Templatesprache</a> verwendet werden.</p>

<h3>Design-Info Datei</h3>
<p>Beispiel einer <code>design.xml</code> Datei:</p>
<pre class="code">{$sampleInfoFile}</pre>

<h3>Smarty-Variabeln</h3>
<table class="tbl" style="width:100%">
	<thead>
		<tr>
			<th>Name</th>
			<th>Beschreibung</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><code>currentPlanetImage</code></td>
			<td>Pfad zum aktuellen Planetenbild</td>
		</tr>
		<tr>
			<td><code>prevPlanetId</code></td>
			<td>ID des vorherigen Planeten</td>
		</tr>
		<tr>
			<td><code>nextPlanetId</code></td>
			<td>ID des nächsten Planeten</td>
		</tr>
		<tr>
			<td><code>page</code></td>
			<td>Name der aktuellen Seite</td>
		</tr>
		<tr>
			<td><code>selectField</code></td>
			<td>Auswahlfeld (&lt;select&gt;) aller Planeten</td>
		</tr>
		<tr>
			<td><code>planetList</code></td>
			<td>Liste aller Planeten als Links</td>
		</tr>		
		<tr>
			<td><code>messages</code></td>
			<td>Anzahl neuer Nachrichten</td>
		</tr>
		<tr>
			<td><code>newreports</code></td>
			<td>Anzahl neuer Berichte</td>
		</tr>
		<tr>
			<td><code>notes</code></td>
			<td>Anzahl vorhandener Notizen</td>
		</tr>
		<tr>
			<td><code>fleetAttack</code></td>
			<td>Anzahl fremder angreifender Flotten</td>
		</tr>
		<tr>
			<td><code>buddys</code></td>
			<td>Anzahl Freunde welche online sind</td>
		</tr>
		<tr>
			<td><code>bugreportUrl</code></td>
			<td>URL zur Seite wo man Fehler melden kann</td>
		</tr>
		<tr>
			<td><code>helpcenterOnclick</code></td>
			<td>JavaScript-Code zum Öffnen des Help-Centers als Popup</td>
		</tr>
		<tr>
			<td><code>urlForum</code></td>
			<td>URL zum Forum</td>
		</tr>
		<tr>
			<td><code>chatOnclick</code></td>
			<td>JavaScript-Code zum Öffnen des Chats</td>
		</tr>
		<tr>
			<td><code>teamspeakOnclick</code></td>
			<td>JavaScript-Code zum Öffnen der TeamSpeak Seite als Popup</td>
		</tr>
		<tr>
			<td><code>rulesOnclick</code></td>
			<td>JavaScript-Code zum Öffnen der Regeln-Seite als Popup</td>
		</tr>
		<tr>
			<td><code>serverTime</code></td>
			<td>Die aktuelle Zeit, wird automatisch aktualisiert</td>
		</tr>
		<tr>
			<td><code>serverTimeUnix</code></td>
			<td>Die aktuelle Zeit als Unix-Zeitstempel</td>
		</tr>
		<tr>
			<td><code>content_for_layout</code></td>
			<td>Die eigentliche Inhalt der Seite</td>
		</tr>
		<tr>
			<td><code>templateDir</code></td>
			<td>Pfad zum Template-Verzeichnis (z.B. zum Laden von Bildern)</td>
		</tr>
		<tr>
			<td><code>topNav</code></td>
			<td>Array mit allen Elementen der Header-Navigation</td>
		</tr>
		<tr>
			<td><code>gameNav</code></td>
			<td>Array mit allen Elementen der Haupt-Spielnavigation</td>
		</tr>
		<tr>
			<td><code>usersOnline</code></td>
			<td>Anzahl User welche online sind</td>
		</tr>
		<tr>
			<td><code>usersTotal</code></td>
			<td>Anzahl registrierter User</td>
		</tr>
		<tr>
			<td><code>renderTime</code></td>
			<td>Zeit welche gebraucht wurde, um den Inhalt der Seite zusammenzustellen</td>
		</tr>
		<tr>
			<td><code>userNick</code></td>
			<td>Name des Spielers</td>
		</tr>
		<tr>
			<td><code>userPoints</code></td>
			<td>Punkte des Spielers</td>
		</tr>
	</tbody>
</table>


{$content|default:''}
