Escape to Andromeda Changelog
=============================

Version NEXT
------------

### Game ###

#### Features ####

 * Added tab for banner in user settings screen
 * Added table of open sessions to login tab in user settings screen.

#### Bugfixes ####

 * Add checks for valid buildlist item (#51)
 * Do not check user's IP in session validation, but record user's IP when updating session. Fixes session problems with IPv6 dual-stack connections (#55)
 * Fixed bug where assigned people could be set to idle while building was still working
 * Fixed various sorting problems
 * Input sanitization of various database queries
 * Fixed various typos
 * Fixed encoding issues
 * Fixed multiple vulnerabilities which could have been exploited by XSS
 * Fixed several issues in the Graphite design
 * Removed BBcode tags in message preview

#### Changes ####

 * Added new template variable ownFleetCount which indicates the number of the player's currently active fleets
 * Added new template variable infoText which shows the ingame info message, if defined
 * The button for demolishing a building is no longer shown so prominently
 
### Administration ###

#### Features ####

 * Added page displaying all user banners
 * Added "Error Log" screen and possibility to remove error log and database error log
 * Added system info page to admin menu
 * Added possibility to discover specific coordinates or the complete map for any user
 * Added screen which shows executed and pending database schema migrations
 * Show changed config values on "restore defaults" page
 
#### Changes ####

 * Manual updates page moved to "Eventhandler" -> "Periodic tasks" menu item
 * Every periodic task can now be executed on its own
 * Open each user surveillance session table in separate screen
 * Changed layout of detailed config editor
 * If no backup directory is defined, a default path will be used
 
#### Bugfixes ####

 * Limited number of entries in user observation log (#57)
 * Fixed error messages appearing in cronjob output generated by admin session cleanup mechanism (#59)
 * Limit number of displayed chat lines in admin log (#56)
 * Check if user or alliance profile image directory exists before listing images for verification
 * Forward to correct page in URL query string after login
 * User banners of non-existent users will now be removed when banners are being updated
 * Truncate user_surveillance table when resetting universe
 * Links to internal pages in messages no longer open new tab (#24)


Version 3.4.0
-------------

### Game ###

#### Features ####

 * Added boost system for resource production and building speed (#8)
 * Crypto center (alliance building) cooldown is now individual for each user (#10)
 * Number of alliance members can now be limited (defaults to 7) (#16)
 * New mysticum feat: Reduce launch and landing time (Readiness) (#9)
 * Added tutorial system (#18)
 * BBcode-[url]-links open in a new tab (#13)
 * Noob protection minimal attackable threshold points implemented (#21)
 * Added text format help link to various text fields

#### Bugfixes ####

 * Fixed "Query error" message if holiday mode gets enabled (#2)
 * Minbari mysticum no longer hides whole alliance fleet (#11)
 * Fixed "msg_send fail" on specialist activation (#5)
 * Fixed broken link in admin ticket system (#25)
 * Fixed fuel/food doubling on support abort (#7)
 * Fixed "banned" instead of "kicked" message in Chat (#30)
 * Fixed a DB query bug with single quotes in alliance names in the alliance founding process
 * Fixed possible SQL injection vulnerabilities in notepad class
 * Fixed race detail page in help
 * User and allinace profile image directories are now being created created if they not exist
 
### Administration ###

#### Features ####

 * Improved text management (#20)
 * Changelogs page added
 * User- and game stats page combined
 * Alliance battle system can now be disabled in configuration
 * Alliance battle system can now be restricted to alliances at war only in configuration (#19)

#### Bugfixes ####

 * Fixed coordinate selector (position) on galaxy screen


Version 3.3.0
-------------

### Game ###

#### Features ####

 * Keybinds hinzugefügt
 * Cleanup der Konfiguration (defaults.xml)
 * PNs lesen und schreiben ist nun auch während dem Urlaubsmodus möglich
 * Spezialist wird nun während den Urlaubsmodus pausiert
 * User werden nun benachrichtigt bei Nachrichten von Admins im Ticketsystem
 * Kryptobericht wird gespeichert
 * Accounts im Urlaubsmodus werden nach einer Maximaldauer inaktiv
 * Accounts im Urlaubsmodus erscheinen nicht mehr in der Statistik

#### Bugfixes ####

  * Flottenfavoriten anlegen unter IE nicht möglich
  * Allianzplaneten / Galaxieübersicht: fehler bei allianzlosen spielern
  * Fehlermeldung beim Senden von Nachrichten
  * Dollarzeichen wird von Statistik-Suchfunktion ignoriert
  * Distanz unterschiedlich bei Hin- und Rückflug
  * Beim Forschen werden die Bewohner fürs Lab auf allen Planeten blockiert
  * Umlaut wird nicht korrekt dargestellt
  * xajax-generierte Inputs und keybinds vertragen sich nicht
  * Ressourcenmenge in Berichten übersteigt uint16_max-Grenze
  * Datenbankfehler bei Allianztag mit Backslash

### Administration ###

#### Features ####
 
 * Wings können ausgeschaltet werden
 
#### Bugfixes ####
 
 * Galaxiekarte im tool aufdecken
 * Chatadmin-Funktionen gehen nicht, wenn der User ein Leerzeichen im Namen hat
 * Inaktive User werden nicht automatisch gelöscht, gleiches bei Löschantrag
 * Admintool: Flotten verlieren Ladung
